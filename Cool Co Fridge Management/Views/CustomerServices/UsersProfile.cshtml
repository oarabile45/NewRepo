@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{  
    Layout = "/Views/Shared/_Layout.cshtml";
}
<html lang="en">
<head>
    
    <title>Edit Profile</title>
    <style>
        <link href="https://fonts.googleapis.com" rel="preconnect" >
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin >
        <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet" >
        
        <!-- Main CSS File -->
        <link href="~/CustomerServices/UserProfile.css" rel="stylesheet" >
    </style>
</head>
<body>
    
    <div class="form-container" id="form-container">
        <h2>Edit Profile</h2>
        <div class="form-group">
            <label for="id">ID:</label>
            <input type="text" id="id" value="#02" disabled>
        </div>
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" value="Jack">
            <div id="name-error" class="error-message" style="display: none;">
                Please enter a valid name.
            </div>
        </div>
        <div class="form-group">
            <label for="surname">Surname:</label>
            <input type="text" id="surname" value="Peters">
            <div id="surname-error" class="error-message" style="display: none;">
                Please enter a valid surname.
            </div>
        </div>
        <div class="form-group">
            <label for="contact">Contact Number:</label>
            <input type="text" id="contact" value="086 702 5572">
            <div id="contact-error" class="error-message" style="display: none;">
                Please enter a valid contact number.
            </div>
        </div>
        <div class="form-group">
            <label for="address">Full Address:</label>
            <input type="text" id="address" value="10 Royale Street, Summerstrand, 6070">
            <div id="address-error" class="error-message" style="display: none;">
                Please enter a valid address.
            </div>
        </div>
        <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" value="JuiletRue#03">
            <div id="username-error" class="error-message" style="display: none;">
                Please enter a valid username.
            </div>
        </div>
        <div class="form-group">
            <label for="new-password">New Password:</label>
            <input type="password" id="new-password" value="*******">
        </div>
        <div class="form-group">
            <label for="confirm-password">Confirm Password:</label>
            <input type="password" id="confirm-password" value="********">
            <div id="password-match-message" class="error-message" style="display: none;">
                Passwords do not match!
            </div>
            <div id="password-length-message" class="error-message" style="display: none;">
                Passwords must be 8 or more characters!
            </div>
        </div>
        <div class="form-group">
            <label for="allocation-status">Allocation Status:</label>
            <select id="allocation-status">
                <option value="">Select Status</option>
                <option value="">Requested</option>
                <option value="">Accepted</option>
                <option value="">Declined</option>
                <option value="">Pending</option>
                <option value="">Allocated</option>
            </select>
        </div>
        <div class="form-group">
            <button onclick="saveChanges()">Save Changes</button>
        </div>
    </div>

    <script>
        function saveChanges() {
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const passwordMatchMessage = document.getElementById('password-match-message');
            const passwordLengthMessage = document.getElementById('password-length-message');
            const name = document.getElementById('name').value.trim();
            const surname = document.getElementById('surname').value.trim();
            const contact = document.getElementById('contact').value.trim();
            const address = document.getElementById('address').value.trim();
            const username = document.getElementById('username').value.trim();

            passwordMatchMessage.style.display = 'none';
            passwordLengthMessage.style.display = 'none';

            let valid = true;

            // Validate name
            if (name === '') {
                document.getElementById('name-error').style.display = 'block';
                valid = false;
            } else {
                document.getElementById('name-error').style.display = 'none';
            }

            // Validate surname
            if (surname === '') {
                document.getElementById('surname-error').style.display = 'block';
                valid = false;
            } else {
                document.getElementById('surname-error').style.display = 'none';
            }

            // Validate contact number
            const contactPattern = /^[0-9]{3} [0-9]{3} [0-9]{4}$/;
            if (!contactPattern.test(contact)) {
                document.getElementById('contact-error').style.display = 'block';
                valid = false;
            } else {
                document.getElementById('contact-error').style.display = 'none';
            }

            // Validate address
            if (address === '') {
                document.getElementById('address-error').style.display = 'block';
                valid = false;
            } else {
                document.getElementById('address-error').style.display = 'none';
            }

            // Validate username
            if (username === '') {
                document.getElementById('username-error').style.display = 'block';
                valid = false;
            } else {
                document.getElementById('username-error').style.display = 'none';
            }

            // Validate password
            if (newPassword !== confirmPassword) {
                passwordMatchMessage.style.display = 'block';
                valid = false;
            } else if (newPassword.length < 8) {
                passwordLengthMessage.style.display = 'block';
                valid = false;
            }

            if (!valid) {
                return;
            }

            // Code to handle form submission and saving changes
            alert('Changes saved successfully!');
        }
    </script>
</body>
</html>

